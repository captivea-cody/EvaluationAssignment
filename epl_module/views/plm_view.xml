<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="cap_plm_form_inherit" model="ir.ui.view">
            <field name="name">CAP PLM Inherit</field>
            <field name="model">mrp.eco</field>
            <field name="inherit_id" ref="mrp_plm.mrp_eco_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='note']" position="replace"/> 
                <xpath expr="//page[@name='bom_changes']" position="replace"/>
                <xpath expr="//page[@name='bom_rebase']" position="replace"/>
                <xpath expr="//page[@name='previous_eco_bom_changes']" position="replace"/>
                <xpath expr="//page[@name='operation_changes']" position="replace"/>
                <xpath expr="//page[@name='extra_info']" position="replace"/>
                <xpath expr="//form/header/button[@name='action_new_revision']" position="after">
                    <button string="Approve Approvers" name="action_assign_approvers_approve" type="object"
                            class="oe_highlight"/>
                    <button string="Reject Approvers" name="action_assign_approvers_reject" type="object"
                            class="oe_highlight"/>
                            <!-- attrs="{'invisible': [('stage_id', '!=', 'Assign Approvers')]}" -->
                </xpath>

                <!-- Top Form View -->
                <xpath expr="//field[@name='type_id']" position="before">
                    <field name="sale_ok"/>
                    <field name="purchase_ok"/>
                    <field name="manufacture_ok"/>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="after">
                    <field name="requester_id"/>
                    <field name="rejection_reason"/>
                    <field name="detailed_type"/>
                </xpath>
                <xpath expr="//notebook" position="before">
                    <field name="product_product_lines">
                        <tree editable="bottom">
                            <field name="name" />
                            <field name="detailed_type" />
                            <field name="priority" />
                            <field name="sale_ok" />
                            <field name="purchase_ok" />
                            <field name="description" />
                            <field name="default_code" />
                            <field name="version" />
                            <field name="barcode" />
                            <field name="bom_count" />
                            <field name="pricelist_item_count" />
                            <field name="qty_available" />
                            <field name="uom_name" />
                            <field name="virtual_available" />
                            <field name="nbr_moves_in" />
                            <field name="nbr_moves_out" />
                            <field name="nbr_reordering_rules" />
                            <field name="reordering_min_qty" />
                            <field name="reordering_max_qty" />
                            <field name="eco_count" />
                            <field name="quality_control_point_qty" />
                            <field name="purchased_product_qty" />
                            <field name="sales_count" />
                        </tree>
                    </field>
                </xpath>

                <!-- Notebook Pages -->
                <xpath expr="//notebook//page[@name='approvals']/field[@name='approval_ids']" position="replace">
					<field name='approval_ids'>
						<tree editable="bottom">
							<field name="name"/>
							<field name="user_id"/>
							<field name="eco_id"/>
							<field name="status"/>
							<field name="approval_date"/>
							<field name="template_stage_id"/>
							<field name="approval_template_id"/>
							<field name="required_user_ids" widget="many2many_tags"/>
							<field name="approval_tab_complete"/>
						</tree>
					</field>
				</xpath> 
                <xpath expr="//notebook//page[@name='approvals']" position="after">
                    <page string="Supply Chain" name="supply_chain">
                        <form>
                            <group>
								<group string="Reordering Rules">	
                                    <field name="location_id"/>
                                    <field name="route_id"/>
                                    <field name="trigger"/>
                                    <field name="group_id"/>
                                </group>
                                <group>
                                    <div class="oe_button_box" name="appr_buttons">
                                        <button name="action_confirm_approve" string="Confirm and Approve" type="object" class="btn-primary"/>
                                    </div>
                                    <field name="product_min_qty"/>
                                    <field name="product_max_qty"/>
                                    <field name="qty_multiple"/>
                                    <field name="uom_po_id"/>
								</group>
								<br/>
                                <label for="seller_ids" string="Vendors"/>
                                <field name="seller_ids">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="company_id" invisible="1" />
                                        <field name="is_subcontractor" />
                                        <field name="product_id" />
                                        <field name="purchase_requisition_id" />
                                        <field name="product_name" />
                                        <field name="product_code" />
                                        <field name="date_start" />
                                        <field name="date_end" />
                                        <field name="min_qty" />
                                        <field name="delay" />
                                        <field name="product_uom" />
                                        <field name="price" />
                                        <field name="purchase_requisition" />
                                        <field name="description_purchase" />
                                        <field name="purchase_line_warn" />
                                        <field name="property_stock_inventory" />
                                    </tree>
                                </field>
                            </group>
                            <br/>
                            <group>
                                <field name="packaging_ids">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="route_ids" widget="many2many_tags"/>
                                        <field name="qty"/>
                                        <field name="product_uom_id" />
                                        <field name="sales" />
                                        <field name="purchase" />
                                        <field name="barcode" />
                                        <field name="description_pickingin" />
                                        <field name="description_picking" />
                                    </tree>
                                </field>
                            </group>
                        </form>
                    </page>

                    <page name="finance" string="Finance">
                        <form>
                            <group>
                                <group>
                                    <field name="invoice_policy" />
                                    <field name="list_price"/>
                                    <field name="standard_price"/>
                                </group>
                                <group>
                                    <div class="oe_button_box" name="appr_buttons">
                                        <button name="action_confirm_approve" string="Confirm and Approve" type="object" class="btn-primary"/>
                                    </div>
                                    <field name="purchase_method"/>
                                    <field name="categ_id"/>
                                </group>
                                <field name="taxes_id" widget="many2many_tags"/>
                            </group>
                        </form>
                    </page>

                    <page name="me" string="ME">
                        <group>
                            <group>
                                <field name="uom_po_id" />
                                <field name="user_id" />
                                <field name="weight"/>
                                <field name="volume"/>
                                <field name="produce_delay"/>
                                <field name="property_stock_production"/>
                                <field name="tracking"/>
                            </group>
                            <group>
                                <div class="oe_button_box" name="appr_buttons">
                                    <button name="action_confirm_approve" string="Confirm and Approve" type="object" class="btn-primary"/>
                                </div>
                                <field name="use_expiration_date"/>
                                <field name="expiration_time"/>
                                <field name="use_time"/>
                                <field name="removal_time"/>
                                <field name="alert_time"/>
                            </group>
                        </group>
                        <group string="Bill of Materials">
                            <field name="bom_ids">
                                <tree editable="bottom">
                                    <field name="company_id" invisible="1" />
                                    <field name="product_uom_category_id" invisible="1" />
                                    <field name="product_tmpl_id"/>
                                    <field name="product_id"/>
                                    <field name="product_qty"/>
                                    <field name="product_uom_id"/>
                                    <field name="code"/>
                                    <field name="type"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Components">
                            <field name="bom_line_ids">
                                <tree editable="bottom">
                                    <field name="bom_id"/>
                                    <field name="operation_id"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="product_uom_category_id" invisible="1" />
                                    <field name="product_id"/>
                                    <field name="product_qty"/>
                                    <field name="product_uom_id"/>
                                    <field name="operation_id" />
                                    <field name="allowed_operation_ids" invisible="1" />
                                </tree>
                            </field>
                        </group>
                        <group name="operations" string="Operations">
                            <field name="routing_workcenter_ids" >
                                <tree editable="bottom">
                                    <field name="bom_id" />
                                    <field name="name" />
                                    <field name="company_id" invisible="1"/>
                                    <field name="possible_bom_product_template_attribute_value_ids" invisible="1"/>
                                    <field name="quality_point_count" />
                                    <field name="workcenter_id" />
                                    <field name="time_mode" />
                                    <field name="time_mode_batch" />
                                    <field name="time_cycle_manual" />
                                    <field name="note" />
                                    <field name="worksheet_type" />
                                    <field name="bom_product_template_attribute_value_ids" widget="many2many_tags"/>
                                </tree>
                            </field>
                        </group>
                        <group name="byproducts" string="Byproducts">
                            <field name="byproduct_lines">
                                <tree editable="bottom">
                                    <field name="product_id" />
                                    <field name="company_id" invisible="1"/>
                                    <field name="product_uom_category_id" invisible="1" />
                                    <field name="allowed_operation_ids" invisible="1" />
                                    <field name="product_qty" />
                                    <field name="product_uom_id" />
                                    <field name="operation_id" />
                                    <field name="cost_share" />
                                    <field name="bom_product_template_attribute_value_ids" />
                                    <field name="possible_bom_product_template_attribute_value_ids" invisible="1"/>
                                </tree>
                            </field>
                        </group>
                        <group name="miscellaneous" string="Miscellaneous">
                            <field name="bom_misc_ids">
                                <tree>
                                    <field name="ready_to_produce" widget="radio"/>
                                    <field name="version" />
                                    <field name="company_id" invisible="1"/>
                                    <field name="consumption" />
                                    <field name="picking_type_id" />
                                </tree>
                            </field>
                        </group>
                    </page>

                    <page name="quality" string="Quality">
                        <div class="oe_button_box" name="appr_buttons">
                            <button name="action_confirm_approve" string="Confirm and Approve" type="object" class="btn-primary"/>
                        </div>
                        <group name="quality_control_point" string="Quality Control Point">
                            <field name="quality_lines">
                                <tree editable="bottom">
                                    <field name="title"/>
                                    <field name="product_ids" />
                                    <field name="bom_product_ids" />
                                    <field name="company_id" invisible="1"/>
                                    <field name="product_category_ids" />
                                    <field name="picking_type_ids" />
                                    <field name="measure_on" />
                                    <field name="measure_frequency_type" />
                                    <field name="test_type_id" />
                                    <field name="operation_id" />
                                    <field name="team_id" />
                                    <field name="is_workorder_step" />
                                    <field name="user_id" />
                                    <field name="note" />
                                    <field name="failure_message" />
                                    <field name="reason" />
                                </tree>
                            </field>
                        </group>
                    </page>

                    <page name="sales" string="Sales">
                        <group>
                            <field name="product_template_lines">
                                <tree editable="1">
                                    <field name="name" />
                                    <field name="optional_product_ids" widget="many2many_tags"/>
                                    <field name="description_sale" />
                                    <field name="company_id" invisible="1"/>
                                    <field name="sale_line_warn" />
                                    <field name="sale_delay" />
                                    <field name="description_pickingout" />
                                    <field name="email_template_id" />
                                </tree>
                            </field>
                        </group>
                    </page>

                    <page name="other" string="Other">
                        <group>
                            <field name="product_pricelist_lines">
                                <tree editable="1">
                                    <field name="pricelist_id" />
                                    <field name="name" />
                                    <field name="min_quantity" />
                                    <field name="fixed_price" />
                                    <field name="date_start" />
                                    <field name="date_end" />
                                </tree>
                            </field>
                        </group>
                    </page>


                </xpath>
            </field>
        </record>
   </data>
</odoo>
